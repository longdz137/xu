<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N·∫°p Xu TikTok - T·ª∑ l·ªá 10K = 30 Xu</title>
    <style>
        :root {
            --primary-color: #fe2c55;
            --secondary-color: #25f4ee;
            --dark-color: #121212;
            --light-color: #ffffff;
            --gray-color: #f8f9fa;
            --text-color: #333333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--gray-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }
        
        .logo-icon {
            font-size: 28px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav a {
            color: var(--light-color);
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        
        nav a:hover {
            opacity: 0.8;
        }
        
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1611162617474-5b21e879e113?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: var(--light-color);
            padding: 80px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 42px;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .rate-badge {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .section-title h2 {
            font-size: 36px;
            color: var(--dark-color);
            margin-bottom: 15px;
        }
        
        .section-title p {
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .packages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .package {
            background: var(--light-color);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .package:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .package.popular::before {
            content: "Ph·ªï bi·∫øn";
            position: absolute;
            top: 15px;
            right: -30px;
            background: var(--primary-color);
            color: white;
            padding: 5px 30px;
            transform: rotate(45deg);
            font-size: 12px;
            font-weight: 600;
        }
        
        .package-icon {
            font-size: 40px;
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        .package h3 {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .package .price {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .package .price span {
            font-size: 16px;
            color: #666;
        }
        
        .package .coins {
            font-size: 18px;
            color: #25a15f;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .package ul {
            list-style: none;
            margin-bottom: 25px;
        }
        
        .package ul li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .package ul li:last-child {
            border-bottom: none;
        }
        
        .form-container {
            background: var(--light-color);
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .notification {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }
        
        .notification.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .notification.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        footer {
            background: var(--dark-color);
            color: var(--light-color);
            padding: 40px 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            color: var(--light-color);
            font-size: 20px;
            transition: color 0.3s;
        }
        
        .social-links a:hover {
            color: var(--secondary-color);
        }
        
        .copyright {
            margin-top: 20px;
            font-size: 14px;
            color: #aaa;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .hero h2 {
                font-size: 32px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">üéµ</div>
                    <h1>TikTok Coin</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home">Trang ch·ªß</a></li>
                        <li><a href="#packages">G√≥i n·∫°p</a></li>
                        <li><a href="#recharge">N·∫°p xu</a></li>
                        <li><a href="history.html">L·ªãch s·ª≠ n·∫°p</a></li>
                        <li><a href="#contact">Li√™n h·ªá</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <h2>N·∫°p Xu TikTok Nhanh Ch√≥ng & An To√†n</h2>
            <p>H·ªá th·ªëng n·∫°p xu TikTok t·ª± ƒë·ªông v·ªõi th√¥ng b√°o Telegram cho admin. Nhanh ch√≥ng, ti·ªán l·ª£i v√† b·∫£o m·∫≠t.</p>
            <div class="rate-badge">T·ª∑ l·ªá n·∫°p: 10.000 VNƒê = 30 Xu</div>
            <a href="#recharge" class="btn" style="margin-top: 20px;">N·∫°p Xu Ngay</a>
        </div>
    </section>

    <section class="section" id="packages">
        <div class="container">
            <div class="section-title">
                <h2>C√°c G√≥i N·∫°p Ph·ªï Bi·∫øn</h2>
                <p>L·ª±a ch·ªçn g√≥i n·∫°p ph√π h·ª£p v·ªõi nhu c·∫ßu c·ªßa b·∫°n</p>
            </div>
            <div class="packages">
                <div class="package">
                    <div class="package-icon">üí∞</div>
                    <h3>G√≥i C∆° B·∫£n</h3>
                    <div class="price">50.000<span> VNƒê</span></div>
                    <div class="coins">150 Xu TikTok</div>
                    <ul>
                        <li>N·∫°p t·ª± ƒë·ªông 24/7</li>
                        <li>H·ªó tr·ª£ 15 ph√∫t</li>
                        <li>X·ª≠ l√Ω trong 5 ph√∫t</li>
                    </ul>
                    <button class="btn select-package" data-amount="50000" data-coins="150">Ch·ªçn G√≥i</button>
                </div>
                <div class="package popular">
                    <div class="package-icon">üíé</div>
                    <h3>G√≥i Ti·∫øt Ki·ªám</h3>
                    <div class="price">100.000<span> VNƒê</span></div>
                    <div class="coins">300 Xu TikTok</div>
                    <ul>
                        <li>N·∫°p t·ª± ƒë·ªông 24/7</li>
                        <li>H·ªó tr·ª£ 30 ph√∫t</li>
                        <li>X·ª≠ l√Ω trong 3 ph√∫t</li>
                        <li>∆Øu ƒë√£i +10 Xu</li>
                    </ul>
                    <button class="btn select-package" data-amount="100000" data-coins="310">Ch·ªçn G√≥i</button>
                </div>
                <div class="package">
                    <div class="package-icon">üëë</div>
                    <h3>G√≥i Cao C·∫•p</h3>
                    <div class="price">200.000<span> VNƒê</span></div>
                    <div class="coins">600 Xu TikTok</div>
                    <ul>
                        <li>N·∫°p t·ª± ƒë·ªông 24/7</li>
                        <li>H·ªó tr·ª£ 1 gi·ªù</li>
                        <li>X·ª≠ l√Ω ngay l·∫≠p t·ª©c</li>
                        <li>∆Øu ƒë√£i +30 Xu</li>
                        <li>Qu√† t·∫∑ng ƒë·∫∑c bi·ªát</li>
                    </ul>
                    <button class="btn select-package" data-amount="200000" data-coins="630">Ch·ªçn G√≥i</button>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="recharge">
        <div class="container">
            <div class="section-title">
                <h2>N·∫°p Xu TikTok</h2>
                <p>ƒêi·ªÅn th√¥ng tin ƒë·ªÉ th·ª±c hi·ªán giao d·ªãch n·∫°p xu</p>
            </div>
            <div class="form-container">
                <div id="notification" class="notification"></div>
                <form id="recharge-form">
                    <div class="form-group">
                        <label for="username">T√™n TikTok <span style="color: red;">*</span></label>
                        <input type="text" id="username" class="form-control" placeholder="Nh·∫≠p t√™n t√†i kho·∫£n TikTok" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">S·ªë ƒëi·ªán tho·∫°i <span style="color: red;">*</span></label>
                        <input type="tel" id="phone" class="form-control" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="amount">S·ªë ti·ªÅn (VNƒê) <span style="color: red;">*</span></label>
                            <input type="number" id="amount" class="form-control" placeholder="Nh·∫≠p s·ªë ti·ªÅn" min="10000" step="10000" required>
                            <small style="color: #666; margin-top: 5px; display: block;">T·ªëi thi·ªÉu 10.000 VNƒê</small>
                        </div>
                        <div class="form-group">
                            <label for="coins">S·ªë xu nh·∫≠n ƒë∆∞·ª£c</label>
                            <input type="number" id="coins" class="form-control" placeholder="S·ªë xu" readonly>
                            <small style="color: #666; margin-top: 5px; display: block;">T·ª∑ l·ªá: 10.000 VNƒê = 30 Xu</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="payment">Ph∆∞∆°ng th·ª©c thanh to√°n <span style="color: red;">*</span></label>
                        <select id="payment" class="form-control" required>
                            <option value="">Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n</option>
                            <option value="momo">V√≠ MoMo</option>
                            <option value="zalo">V√≠ ZaloPay</option>
                            <option value="bank">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</option>
                            <option value="card">Th·∫ª c√†o</option>
                        </select>
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">Ti·∫øp T·ª•c Thanh To√°n</button>
                </form>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="logo">
                    <div class="logo-icon">üéµ</div>
                    <h1>TikTok Coin</h1>
                </div>
                <p>H·ªá th·ªëng n·∫°p xu TikTok t√≠ch h·ª£p th√¥ng b√°o Telegram</p>
                <div class="social-links">
                    <a href="#">üìò</a>
                    <a href="#">üì∑</a>
                    <a href="#">üê¶</a>
                    <a href="#">üí¨</a>
                </div>
                <div class="copyright">
                    &copy; 2023 TikTok Coin. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.
                </div>
            </div>
        </div>
    </footer>

    <script>
        // ==================== C·∫§U H√åNH TELEGRAM BOT ====================
        const TELEGRAM_BOT_TOKEN = '8456385484:AAGwIMMR4HmFS4kppN7xZxJaeQRr1zO5Yqk';
        const TELEGRAM_CHAT_ID = '5444123544';
        
        // ==================== BI·∫æN TO√ÄN C·ª§C ====================
        const EXCHANGE_RATE = 30 / 10000;
        let statusCheckInterval;

        // ==================== KH·ªûI T·∫†O TRANG ====================
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('amount').value = 10000;
            document.getElementById('coins').value = 30;
            
            // B·∫Øt ƒë·∫ßu ki·ªÉm tra tr·∫°ng th√°i
            startStatusChecking();
        });

        // ==================== KI·ªÇM TRA TR·∫†NG TH√ÅI ƒê∆†N H√ÄNG ====================
        function startStatusChecking() {
            // Ki·ªÉm tra m·ªói 10 gi√¢y
            statusCheckInterval = setInterval(() => {
                checkOrderStatuses();
            }, 10000);
        }

        // ==================== KI·ªÇM TRA TR·∫†NG TH√ÅI C√ÅC ƒê∆†N H√ÄNG ====================
        async function checkOrderStatuses() {
            try {
                const history = JSON.parse(localStorage.getItem('rechargeHistory') || '[]');
                const pendingOrders = history.filter(order => order.status === 'pending');
                
                for (const order of pendingOrders) {
                    // Ki·ªÉm tra tr·∫°ng th√°i t·ª´ server (gi·∫£ l·∫≠p)
                    const status = await getOrderStatusFromServer(order.transactionId);
                    if (status && status !== order.status) {
                        await updateTransactionStatus(order.transactionId, status);
                        showStatusUpdateNotification(order.transactionId, status);
                    }
                }
            } catch (error) {
                console.error('‚ùå L·ªói ki·ªÉm tra tr·∫°ng th√°i:', error);
            }
        }

        // ==================== L·∫§Y TR·∫†NG TH√ÅI T·ª™ SERVER (GI·∫¢ L·∫¨P) ====================
        async function getOrderStatusFromServer(transactionId) {
            // ƒê√ÇY L√Ä PH·∫¶N QUAN TR·ªåNG: K·∫øt n·ªëi v·ªõi backend th·ª±c t·∫ø
            try {
                // Gi·∫£ l·∫≠p API call ƒë·∫øn backend
                // const response = await fetch(`/api/orders/${transactionId}/status`);
                // const data = await response.json();
                // return data.status;
                
                // T·∫°m th·ªùi d√πng gi·∫£ l·∫≠p
                return await mockGetOrderStatus(transactionId);
            } catch (error) {
                console.error('‚ùå L·ªói l·∫•y tr·∫°ng th√°i t·ª´ server:', error);
                return null;
            }
        }

        // ==================== GI·∫¢ L·∫¨P L·∫§Y TR·∫†NG TH√ÅI ====================
        async function mockGetOrderStatus(transactionId) {
            // T·∫°o file status-updates.json trong c√πng th∆∞ m·ª•c ƒë·ªÉ test
            try {
                const response = await fetch('status-updates.json?' + Date.now());
                const updates = await response.json();
                const update = updates.find(u => u.transactionId === transactionId);
                return update ? update.status : null;
            } catch (error) {
                // N·∫øu kh√¥ng c√≥ file, d√πng random demo
                if (Math.random() < 0.1) { // 10% c∆° h·ªôi c·∫≠p nh·∫≠t
                    return Math.random() < 0.7 ? 'completed' : 'cancelled';
                }
                return null;
            }
        }

        // ==================== X·ª¨ L√ù CH·ªåN G√ìI N·∫†P ====================
        document.querySelectorAll('.select-package').forEach(button => {
            button.addEventListener('click', function() {
                const amount = this.getAttribute('data-amount');
                const coins = this.getAttribute('data-coins');
                
                document.getElementById('amount').value = amount;
                document.getElementById('coins').value = coins;
                
                document.getElementById('recharge').scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        // ==================== T√çNH TO√ÅN S·ªê XU ====================
        document.getElementById('amount').addEventListener('input', function() {
            const amount = parseInt(this.value) || 0;
            
            if (amount < 10000) {
                document.getElementById('coins').value = 0;
                return;
            }
            
            const coins = Math.floor(amount * EXCHANGE_RATE);
            document.getElementById('coins').value = coins;
        });
        
        // ==================== X·ª¨ L√ù FORM N·∫†P XU ====================
        document.getElementById('recharge-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const phone = document.getElementById('phone').value;
            const amount = document.getElementById('amount').value;
            const coins = document.getElementById('coins').value;
            const payment = document.getElementById('payment').value;
            
            if (amount < 10000) {
                const notification = document.getElementById('notification');
                notification.textContent = '‚ùå S·ªë ti·ªÅn n·∫°p t·ªëi thi·ªÉu l√† 10.000 VNƒê';
                notification.className = 'notification error';
                notification.style.display = 'block';
                return;
            }
            
            const transactionId = generateTransactionId();
            
            const transactionData = {
                username,
                phone,
                amount,
                coins,
                payment,
                transactionId,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };
            
            localStorage.setItem('currentTransaction', JSON.stringify(transactionData));
            saveToHistory(transactionData);
            
            // G·ª≠i th√¥ng b√°o ƒë·∫øn Telegram
            sendOrderNotification('NEW_ORDER', transactionData);
            
            if (payment === 'card') {
                window.location.href = 'payment-card.html';
            } else {
                window.location.href = 'payment-bank.html';
            }
        });

        // ==================== G·ª¨I TH√îNG B√ÅO ƒê∆†N H√ÄNG ====================
        async function sendOrderNotification(type, transaction) {
            let message = '';
            
            switch(type) {
                case 'NEW_ORDER':
                    message = `üÜï <b>ƒê∆†N H√ÄNG M·ªöI</b>\n\n` +
                             `üë§ <b>T√†i kho·∫£n:</b> ${transaction.username}\n` +
                             `üìû <b>SƒêT:</b> ${transaction.phone}\n` +
                             `üí∞ <b>S·ªë ti·ªÅn:</b> ${formatCurrency(transaction.amount)} VNƒê\n` +
                             `ü™ô <b>S·ªë xu:</b> ${transaction.coins} Xu\n` +
                             `üí≥ <b>Ph∆∞∆°ng th·ª©c:</b> ${getPaymentMethod(transaction.payment)}\n` +
                             `üÜî <b>M√£ GD:</b> <code>${transaction.transactionId}</code>\n` +
                             `‚è∞ <b>Th·ªùi gian:</b> ${formatDate(transaction.timestamp)}\n\n` +
                             `‚ö° <b>ƒê·ªÉ c·∫≠p nh·∫≠t tr·∫°ng th√°i, truy c·∫≠p:</b>\n` +
                             `https://your-domain.com/admin.html\n\n` +
                             `‚ö†Ô∏è <i>Vui l√≤ng x·ª≠ l√Ω ƒë∆°n h√†ng!</i>`;
                    break;
            }
            
            await sendTelegramMessage(message);
        }

        // ==================== C·∫¨P NH·∫¨T TR·∫†NG TH√ÅI GIAO D·ªäCH ====================
        async function updateTransactionStatus(transactionId, status) {
            try {
                const history = JSON.parse(localStorage.getItem('rechargeHistory') || '[]');
                const transactionIndex = history.findIndex(t => t.transactionId === transactionId);
                
                if (transactionIndex !== -1) {
                    history[transactionIndex].status = status;
                    localStorage.setItem('rechargeHistory', JSON.stringify(history));
                    
                    console.log(`‚úÖ ƒê√£ c·∫≠p nh·∫≠t tr·∫°ng th√°i ${transactionId} th√†nh: ${status}`);
                    return true;
                } else {
                    console.error('‚ùå Kh√¥ng t√¨m th·∫•y giao d·ªãch:', transactionId);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå L·ªói c·∫≠p nh·∫≠t tr·∫°ng th√°i:', error);
                return false;
            }
        }

        // ==================== HI·ªÇN TH·ªä TH√îNG B√ÅO C·∫¨P NH·∫¨T TR·∫†NG TH√ÅI ====================
        function showStatusUpdateNotification(transactionId, status) {
            // Ki·ªÉm tra xem trang history c√≥ ƒëang m·ªü kh√¥ng
            if (window.location.pathname.includes('history.html')) {
                // Reload trang history ƒë·ªÉ hi·ªÉn th·ªã c·∫≠p nh·∫≠t m·ªõi
                const searchPhone = document.getElementById('search-phone');
                if (searchPhone && searchPhone.value) {
                    setTimeout(() => {
                        document.getElementById('search-history').click();
                    }, 1000);
                }
            }
            
            // Hi·ªÉn th·ªã th√¥ng b√°o
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                max-width: 400px;
                animation: slideIn 0.3s ease;
            `;
            
            notification.innerHTML = `
                <strong>üîÑ C·∫≠p nh·∫≠t tr·∫°ng th√°i</strong><br>
                M√£ GD: ${transactionId}<br>
                Tr·∫°ng th√°i: ${getStatusText(status)}
            `;
            
            document.body.appendChild(notification);
            
            // T·ª± ƒë·ªông ·∫©n sau 5 gi√¢y
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // ==================== H√ÄM G·ª¨I TIN NH·∫ÆN TELEGRAM ====================
        async function sendTelegramMessage(message) {
            if (TELEGRAM_BOT_TOKEN === 'YOUR_BOT_TOKEN_HERE' || TELEGRAM_CHAT_ID === 'YOUR_CHAT_ID_HERE') {
                console.log('üì§ [DEMO] G·ª≠i tin nh·∫Øn Telegram:', message);
                return true;
            }
            
            try {
                const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
                const payload = {
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'HTML'
                };
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });
                
                const data = await response.json();
                return data.ok;
            } catch (error) {
                console.error('‚ùå L·ªói g·ª≠i Telegram:', error);
                return false;
            }
        }

        // ==================== L∆ØU V√ÄO L·ªäCH S·ª¨ ====================
        function saveToHistory(transaction) {
            let history = JSON.parse(localStorage.getItem('rechargeHistory') || '[]');
            history.unshift(transaction);
            if (history.length > 100) {
                history = history.slice(0, 100);
            }
            localStorage.setItem('rechargeHistory', JSON.stringify(history));
        }

        // ==================== H√ÄM TI·ªÜN √çCH ====================
        function generateTransactionId() {
            const timestamp = new Date().getTime().toString().slice(-6);
            const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            return `TD${timestamp}${random}`;
        }

        function formatCurrency(amount) {
            return parseInt(amount).toLocaleString('vi-VN');
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleString('vi-VN');
        }

        function getPaymentMethod(method) {
            const methods = {
                'momo': 'V√≠ MoMo',
                'zalo': 'V√≠ ZaloPay',
                'bank': 'Chuy·ªÉn kho·∫£n',
                'card': 'Th·∫ª c√†o'
            };
            return methods[method] || method;
        }

        function getStatusText(status) {
            const texts = {
                'completed': 'Th√†nh c√¥ng',
                'pending': 'ƒêang ch·ªù',
                'cancelled': 'ƒê√£ h·ªßy',
                'expired': 'H·∫øt h·∫°n'
            };
            return texts[status] || status;
        }

        // ==================== CSS ANIMATION ====================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
